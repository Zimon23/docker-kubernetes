## kubectl explain란?

kubectl explain은 클러스터가 가진 리소스의 스키마(필드 구조)와 설명을, API 서버의 OpenAPI 스키마를 기반으로 문서처럼 보여주는 명령입니다. 말 그대로 “쿠버네티스 오브젝트와 필드들이 정확히 무엇을 의미하는지”를 kubectl만으로 바로 확인할 수 있게 해줘요.

### 무엇에 쓰나?

1. 매니페스트(YAML)를 작성할 때 정확한 필드 경로/타입/설명을 확인

2. 특정 리소스의 가능한 하위 필드 목록을 훑어보기

3. API 버전별 차이(예: networking.k8s.io/v1 Ingress) 확인

4. CRD(CustomResourceDefinition)도 스키마가 정의돼 있다면 구조/설명을 탐색

### 기본 사용법
```
# 리소스(복수형/단수형 아무거나 대부분 인식)
kubectl explain pod
kubectl explain pods
```

```
# 특정 섹션으로 내려가기(점 표기)
kubectl explain deployment.spec
kubectl explain deployment.spec.template.spec.containers
```

```
# 특정 필드만 딱 보고 싶을 때
kubectl explain service.spec.type
```

```
자주 쓰는 예시 모음
# Pod의 컨테이너 필드 구조/설명
kubectl explain pod.spec.containers
```
```
# Deployment의 롤링 업데이트 전략 파라미터
kubectl explain deployment.spec.strategy.rollingUpdate
```

```
# Service 타입들 설명
kubectl explain service.spec.type
```

```
# Ingress의 rules · paths 구조(현행 v1 API 기준)
kubectl explain ingress --api-version=networking.k8s.io/v1
kubectl explain ingress.spec.rules
```

```
# 전체 트리를 한 번에 훑기(많이 길어짐)
kubectl explain statefulset.spec --recursive | less
```

```
# CRD도 가능(예: myresources)
kubectl explain myresource.spec
```

### 핵심 옵션

--recursive 또는 -R
하위 필드까지 트리 형태로 전부 펼쳐서 보여줍니다. 길어질 수 있으니 less와 함께 쓰는 걸 권장.
```
kubectl explain pod --recursive | less
```

--api-version=<group/version>
특정 API 버전의 스키마로 문서를 봅니다. 리소스가 여러 버전을 가질 때 유용.
```
kubectl explain ingress --api-version=networking.k8s.io/v1
```

--help
사용법 확인.

출력 이해 포인트

KIND / VERSION: 어떤 리소스/버전 문서를 보고 있는지

DESCRIPTION: 해당 필드/리소스의 의미

FIELDS: 하위 필드 목록과 타입(예: <[]Object>, <string>, <map[string]string> 등)

(스키마에 표기된 경우) Required/Optional 여부가 설명에 포함되기도 합니다.

동작 원리 & 한계

kubectl explain은 API 서버가 제공하는 OpenAPI 스키마(v2/v3)를 사용합니다.

실제 오브젝트의 현재 값이나 상태를 보여주는 kubectl describe와는 다릅니다.
explain은 스키마 문서, describe는 실제 리소스 인스턴스 요약이라고 기억하세요.

