## 쿠버네티스 파드(Pod)란?

쿠버네티스에서 파드(Pod)는 생성하고 관리할 수 있는 가장 작은 배포 단위입니다. 파드는 하나 이상의
컨테이너 그룹을 나타내며, 이 컨테이너들은 스토리지와 네트워크를 공유하고, 서로 localhost를 통해 통신할
수 있습니다.

쉽게 비유하자면, 파드는 하나의 독립적인 '논리적 호스트' 또는 '가상 머신'과 비슷하지만, 각 컨테이너가
격리된 프로세스로 실행된다는 점에서 차이가 있습니다.

### 주요 특징

   * 가장 작은 단위: 쿠버네티스는 컨테이너를 직접 배포하지 않고, 파드라는 단위로 감싸서 배포합니다.
   * 하나 이상의 컨테이너: 대부분의 경우 파드는 단일 컨테이너를 실행하지만, 긴밀하게 연결되어 함께 실행되어야 하는 여러 컨테이너를 포함할 수도 있습니다. (예: 메인 애플리케이션 컨테이너와 로그를 수집하는 사이드카 컨테이너)
   * 리소스 공유:
       * 네트워크: 파드 내의 모든 컨테이너는 동일한 IP 주소와 포트 공간을 공유합니다. 즉, localhost를 사용하여 서로 통신할 수 있습니다.
       * 스토리지: 파드 내의 컨테이너들은 볼륨(Volume)이라는 공유 스토리지를 마운트하여 데이터를 공유할 수 있습니다.
   * 고유한 IP 주소: 클러스터 내의 모든 파드는 고유한 IP 주소를 할당받습니다.
   * 일시적인 존재 (Ephemeral): 파드는 영구적이지 않습니다. 파드가 죽거나 노드에 장애가 생기면 사라질 수 있으며, 이런 경우를 대비해 디플로이먼트(Deployment)와 같은 컨트롤러가 파드를 다시 생성하여 원하는 상태를 유지합니다.

### 파드는 어떻게 관리되나요?

일반적으로 사용자가 파드를 직접 생성하는 경우는 드뭅니다. 대신, 파드의 생명주기를 관리하는 디플로이먼트(Deployment), 스테이트풀셋(StatefulSet), 데몬셋(DaemonSet)과 같은 고수준의 컨트롤러를 사용합니다. 이 컨트롤러들은 파드가 비정상 종료되었을 때 자동으로 다시 시작하거나, 애플리케이션을 확장/축소하는 등의 작업을 처리해 줍니다.

---

### 파드(Pod) 예제 (YAML)

가장 간단한 형태인, 웹 서버(Nginx) 컨테이너 하나를 실행하는 파드의 예제입니다.

vi nginx-pod.yaml
```
# API 버전: v1은 Pod, Service 등 핵심 오브젝트를 포함합니다.
apiVersion: v1

# 리소스 종류: Pod를 생성합니다.
kind: Pod

# 메타데이터: 이름, 레이블 등 파드를 식별하는 정보입니다.
metadata:
  name: nginx-pod-example
  labels:
    app: webserver

# 명세(Specification): 파드가 어떤 상태를 가져야 하는지에 대한 정의입니다.
spec:
  # 파드에 포함될 컨테이너 목록입니다. (리스트 형태)
  containers:

    # 첫 번째 컨테이너 정의
    - name: nginx-container

      # 사용할 컨테이너 이미지입니다. Docker Hub에서 nginx의 최신 버전을 가져옵니다.
      image: nginx:latest

      # 컨테이너가 외부에 노출할 포트 정보입니다.
      ports:
        - containerPort: 80
```

예제 파일 사용 방법

1. 파드 생성: kubectl 명령어를 사용하여 쿠버네티스 클러스터에 파드를 생성합니다.
``` 
kubectl apply -f nginx-pod.yaml
```
2. 파드 상태 확인: 생성된 파드가 정상적으로 실행 중인지 확인합니다. STATUS가 Running으로 표시되어야 합니다.
```
kubectl get pods
```
결과 예시:
```
NAME                READY   STATUS    RESTARTS   AGE
   nginx-pod-example   1/1     Running   0          15s
```
   4. 파드 상세 정보 확인: 파드의 IP 주소, 이벤트 등 더 자세한 정보를 확인합니다.
```   
   kubectl describe pod nginx-pod-example
```
   5. 파드 삭제: 생성했던 파드를 삭제합니다.
```
   kubectl delete -f nginx-pod.yaml
      또는
   kubectl delete pod nginx-pod-example
```
